#!/usr/bin/env node
const path = require('path');
const { program } = require('commander');
const pkg = require('../package.json');
const copyEnv = require('../dist/copy-env').default;

program
  .option('-q, --quiet', 'Disable console output', false)
  .option('--debug', 'Print debug output', false)
  .argument('[path]', 'Path to the directory containing the .env file', '.')
  .description(pkg.description)
  .version(pkg.version)
  .parse(process.argv);

const options = program.opts();

// const cwd = path.resolve(process.cwd(), options.path);
const [dirpath] = program.processedArgs;
const cwd = path.resolve(process.cwd(), dirpath);
copyEnv(cwd, { ...options }).catch(console.error);
